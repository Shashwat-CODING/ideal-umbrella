import{t,i as l,m as r,W as L,b as f,P as $,z as y,g as M,ac as H,c as s,a3 as A,C as c,ad as F,u as k,a as o,d as w,ae as C,h as P,Y as q,a9 as x,af as D,o as j,a7 as O,Q as W}from"./index-BIf49YX_.js";import{g as z,u as R}from"./hub-Co9BINa5.js";var T=t("<span><label></label><select>");function p(e){let n;return(()=>{var u=T(),i=u.firstChild,a=i.nextSibling;l(i,()=>r(e.label));var g=n;return typeof g=="function"?y(g,a):n=a,L(a,"change",e.onchange),l(a,()=>e.children),f(d=>{var h=e.id,_=e.id;return h!==d.e&&$(i,"for",d.e=h),_!==d.t&&$(a,"id",d.t=_),d},{e:void 0,t:void 0}),f(()=>a.value=e.value),u})()}var G=["ar","bn","de","en","es","fr","fr","hi","id","ja","pl","pt","ro","ru","sa","tr","ur","zh"],Y=t("<option>ytify"),N=t("<option value=https://youtube.com>YouTube"),Q=t("<option value=https://piped.video>Piped"),U=t("<option value=https://inv.nadeko.net>Invidious"),J=t("<option value=opus>Opus"),K=t("<option value=mp3>MP3"),X=t("<option value=wav>WAV"),Z=t("<option value=ogg>OGG"),ee=t("<option value=play>"),te=t("<option value=watch>"),ne=t("<option value=dl>"),ie=t("<option>");function le(){return M(H),[s(p,{label:"settings_language",id:"languageSelector",onchange:e=>{c("language",e.target.value),F("locale",e.target.value),k("snackbar",r("settings_reload"))},get value(){return document.documentElement.lang},get children(){return s(A,{each:G,children:e=>(()=>{var n=ie();return n.value=e,l(n,()=>new Intl.DisplayNames(document.documentElement.lang,{type:"language"}).of(e)),n})()})}}),s(p,{id:"linkHost",label:"settings_links_host",onchange:e=>{const n=e.target.selectedIndex===0?"":e.target.value;c("linkHost",n||location.origin),c("linkHost",n),k("snackbar",r("settings_reload"))},get value(){return o.linkHost||location.origin},get children(){return[(()=>{var e=Y();return f(()=>e.value=location.origin),e})(),N(),Q(),U()]}}),s(p,{id:"downloadFormatSelector",label:"settings_download_format",onchange:e=>{c("dlFormat",e.target.value)},get value(){return o.dlFormat},get children(){return[J(),K(),X(),Z()]}}),s(p,{id:"shareAction",label:"settings_pwa_share_action",onchange:e=>{c("shareAction",e.target.value)},get value(){return o.shareAction},get children(){return[(()=>{var e=ee();return l(e,()=>r("settings_pwa_play")),e})(),(()=>{var e=te();return l(e,()=>r("settings_pwa_watch")),e})(),(()=>{var e=ne();return l(e,()=>r("settings_pwa_download")),e})()]}})]}var ae=t("<div class=toggleSwitch><label></label><input type=checkbox><span>");function v(e){let n;return(()=>{var u=ae(),i=u.firstChild,a=i.nextSibling,g=a.nextSibling;l(i,()=>r(e.name)),L(a,"click",e.onclick,!0);var d=n;return typeof d=="function"?y(d,a):n=a,g.$$click=()=>n.click(),f(h=>{var _=e.id,b=e.id,m=e.checked;return _!==h.e&&$(i,"for",h.e=_),b!==h.t&&$(a,"id",h.t=b),m!==h.a&&$(a,"aria-checked",h.a=m),h},{e:void 0,t:void 0,a:void 0}),f(()=>a.checked=e.checked),u})()}w(["click"]);var re=t("<option value=worst>Worst"),se=t("<option value=low>Low"),oe=t("<option value=medium>Medium"),ce=t("<option value=high>High"),ue=t("<option value=lossless disabled>Lossless");function ge(){return[s(p,{label:"settings_audio_quality",id:"qualityPreference",onchange:async e=>{c("quality",e.target.value),C()},get value(){return o.quality},get children(){return[re(),se(),oe(),ce(),ue()]}}),s(v,{id:"prefetchSwitch",name:"settings_prefetch",get checked(){return!!o.prefetch},onclick:()=>{c("prefetch",!o.prefetch)}}),s(v,{id:"stableVolumeSwitch",name:"settings_stable_volume",get checked(){return!!o.stableVolume},onclick:()=>{c("stableVolume",!o.stableVolume),C()}}),s(v,{id:"watchModeSwitch",name:"settings_watchmode",get checked(){return!!o.watchMode},onclick:()=>{c("watchMode",o.watchMode?"":"144p")}})]}function de(){return[s(v,{id:"discoverSwitch",name:"settings_store_discoveries",get checked(){return o.discover},onclick:e=>{let n=e.target.checked;if(!n){const u=z(),i=Object.keys(u.discovery||{}).length||0;confirm(r("settings_clear_discoveries",i.toString()))?(delete u.discovery,R(u),n=!1):e.preventDefault()}c("discover",n)}}),s(v,{id:"historySwitch",name:"settings_store_history",get checked(){return o.history},onclick:e=>{let n=e.target.checked;if(!n){const i=(P("history")||[]).length;confirm(r("settings_clear_history",i.toString()))?(q("history"),n=!1):e.preventDefault()}c("history",n)}})]}var he=t("<option value=1>1"),_e=t("<option value=2>2"),pe=t("<option value=3 selected>3"),ve=t("<option value=none>"),me=t("<option value=0.2rem>"),$e=t("<option value=0.4rem selected>"),fe=t("<option value=0.6rem>"),be=t("<option value=0.9rem>"),ke=t("<option value=auto selected>"),Se=t("<option value=light>"),ye=t("<option value=dark>");function we(){return[s(v,{id:"imgLoadSwitch",name:"settings_load_images",get checked(){return o.loadImage},onclick:()=>{c("loadImage",!o.loadImage),k("snackbar",r("settings_reload"))}}),s(p,{label:"settings_landscape_sections",onchange:e=>{const{value:n}=e.target;x("--landscape-sections",n),c("landscapeSections",e.target.value)},id:"sls",get value(){return o.landscapeSections},get children(){return[he(),_e(),pe()]}}),s(p,{label:"settings_roundness",id:"roundnessChanger",onchange:e=>{x("--roundness",e.target.value),c("roundness",e.target.value)},get value(){return o.roundness},get children(){return[(()=>{var e=ve();return l(e,()=>r("settings_roundness_none")),e})(),(()=>{var e=me();return l(e,()=>r("settings_roundness_lighter")),e})(),(()=>{var e=$e();return l(e,()=>r("settings_roundness_light")),e})(),(()=>{var e=fe();return l(e,()=>r("settings_roundness_heavy")),e})(),(()=>{var e=be();return l(e,()=>r("settings_roundness_heavier")),e})()]}}),s(p,{label:"settings_theming_scheme",id:"themeSelector",onchange:e=>{D(),c("theme",e.target.value)},get value(){return o.theme},get children(){return[(()=>{var e=ke();return l(e,()=>r("settings_theming_scheme_system")),e})(),(()=>{var e=Se();return l(e,()=>r("settings_theming_scheme_light")),e})(),(()=>{var e=ye();return l(e,()=>r("settings_theming_scheme_dark")),e})()]}})]}function Ce(){return[s(v,{id:"LinkCaptureSwitch",name:"settings_link_capturing",get checked(){return o.searchBarLinkCapture},onclick:()=>{c("searchBarLinkCapture",!o.searchBarLinkCapture)}}),s(v,{id:"suggestionsSwitch",name:"settings_display_suggestions",get checked(){return o.searchSuggestions},onclick:()=>{c("searchSuggestions",!o.searchSuggestions),k("snackbar",r("settings_reload"))}})]}var xe=t('<details><summary><i aria-label="More Options"class=ri-more-2-fill></i></summary><ul><li><i class=ri-delete-bin-2-line></i>&nbsp;</li><li><i class=ri-refresh-line></i>&nbsp;</li><li><i class=ri-export-line></i>&nbsp;</li><li><label for=importSettingsBtn><i class=ri-import-line></i>&nbsp;</label><input type=file id=importSettingsBtn style=display:none>');function Le(){async function e(i){await self.caches.keys().then(a=>{a.forEach(g=>{self.caches.delete(g)})}),await navigator.serviceWorker.getRegistrations().then(a=>{a.forEach(g=>{g.unregister()})}),i?.type==="click"&&location.reload()}function n(){const i=document.createElement("a");i.download="ytify_settings.json",i.href=`data:text/json;charset=utf-8,${encodeURIComponent(localStorage.getItem("config")||"{}")}`,i.click()}async function u(i){i.preventDefault();const a=await i.target.files[0].text();confirm("This will overwrite your current settings with the imported settings, continue?")&&localStorage.setItem("config",a)}return(()=>{var i=xe(),a=i.firstChild,g=a.nextSibling,d=g.firstChild,h=d.firstChild;h.nextSibling;var _=d.nextSibling,b=_.firstChild;b.nextSibling;var m=_.nextSibling,I=m.firstChild;I.nextSibling;var E=m.nextSibling,S=E.firstChild,V=S.firstChild;V.nextSibling;var B=S.nextSibling;return d.$$click=e,l(d,()=>r("settings_clear_cache"),null),_.$$click=()=>{localStorage.removeItem("config"),location.reload()},l(_,()=>r("settings_restore"),null),m.$$click=n,l(m,()=>r("settings_export"),null),l(S,()=>r("settings_import"),null),B.addEventListener("change",u),i})()}w(["click"]);var Ie=t("<section class=settingsSection><header><p>ytify </p><i aria-label=close class=ri-close-large-line></i></header><div></div><br><br>");function Be(){let e;return j(()=>{W("settings",e)}),(()=>{var n=Ie(),u=n.firstChild,i=u.firstChild;i.firstChild;var a=i.nextSibling,g=u.nextSibling,d=e;return typeof d=="function"?y(d,n):e=n,l(i,"v8 22.11.25",null),a.$$click=()=>O("settings"),l(u,s(Le,{}),null),l(g,s(le,{}),null),l(g,s(Ce,{}),null),l(g,s(ge,{}),null),l(g,s(de,{}),null),l(g,s(we,{}),null),n})()}w(["click"]);export{Be as default};
