import{f as _,A as k,o as L,t as c,p as a,i as u,aj as $,b as s,P as v,c as p,W as P,aq as w,m as d,S as f,q as E,F as h,a8 as y,z as B,d as C}from"./index-BIf49YX_.js";import{P as T,a as F,L as R}from"./PlayNextButton-QOKvackA.js";var M=c("<span class=slider><input type=range><div><p id=currentDuration></p><p id=fullDuration>"),D=c("<button class=ri-skip-back-line id=playPrevButton>"),q=c("<div class=mainShelf><button class=ri-replay-15-line id=seekBwdButton></button><button class=ri-forward-15-line id=seekFwdButton>"),A=c("<i aria-label=Lyrics class=ri-music-2-line>"),H=c("<div class=bottomShelf><select id=playSpeed><option value=0.25>0.25x</option><option value=0.33>0.33x</option><option value=0.50>0.50x</option><option value=0.75>0.75x</option><option value=0.87>0.87x</option><option value=1.00>1.00x</option><option value=1.25>1.25x</option><option value=1.50>1.50x</option><option value=1.75>1.75x</option><option value=2.00>2.00x</option><option value=2.50>2.50x</option><option value=3.00>3.00x</option><option value=3.50>3.50x</option><option value=4.00>4.00x</option></select><i class=ri-repeat-line></i><select id=volumeChanger><option value=0>0%</option><option value=0.01>1%</option><option value=0.05>5%</option><option value=0.10>10%</option><option value=0.15>15%</option><option value=0.25>25%</option><option value=0.50>50%</option><option value=0.75>75%</option><option value=1.00>100%"),j=c('<i aria-label="Save Progress"class=ri-signpost-line>');function N(g){const[b,S]=_(k.has("t"));let m;L(()=>{["touchstart","touchmove","touchend"].forEach(t=>{m.addEventListener(t,o=>o.stopPropagation())})});function x(){const{audio:t}=a;"mediaSession"in navigator&&"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:t.duration||0,playbackRate:t.playbackRate||1,position:Math.floor(t.currentTime||0)})}return[(()=>{var t=M(),o=t.firstChild,l=o.nextSibling,i=l.firstChild,e=i.nextSibling;o.addEventListener("change",r=>{a.audio.currentTime=parseInt(r.target.value)});var n=m;return typeof n=="function"?B(n,o):m=o,u(i,()=>$(a.currentTime)),u(e,()=>$(a.fullDuration)),s(()=>v(o,"max",a.fullDuration)),s(()=>o.value=a.currentTime),t})(),(()=>{var t=q(),o=t.firstChild,l=o.nextSibling;return u(t,p(f,{get when(){return a.history.length},get children(){var i=D();return P(i,"click",w,!0),s(()=>v(i,"aria-label",d("player_play_previous"))),i}}),o),o.$$click=()=>{a.audio.currentTime-=15},u(t,p(T,{}),l),l.$$click=()=>{a.audio.currentTime+=15},u(t,p(f,{get when(){return E.list.length},get children(){return p(F,{})}}),null),s(i=>{var e=d("player_seek_backward"),n=d("player_seek_forward");return e!==i.e&&v(o,"aria-label",i.e=e),n!==i.t&&v(l,"aria-label",i.t=n),i},{e:void 0,t:void 0}),t})(),(()=>{var t=H(),o=t.firstChild,l=o.nextSibling,i=l.nextSibling;return o.addEventListener("change",e=>{const n=e.target,r=parseFloat(n.value);a.audio.playbackRate=r,h("playbackRate",r),x(),n.blur()}),u(t,p(f,{get when(){return a.isMusic},get fallback(){return(()=>{var e=j();return e.$$click=()=>{b()?(y("t"),S(!1)):(y("t",a.currentTime.toString()),S(!0))},s(()=>e.classList.toggle("on",!!b())),e})()},get children(){var e=A();return e.$$click=()=>g.setShowLyrics(!g.showLyrics()),s(()=>e.classList.toggle("on",!!g.showLyrics())),e}}),l),u(t,p(R,{}),l),l.$$click=()=>{const e=!a.loop;a.audio.loop=e,h("loop",e)},i.addEventListener("change",e=>{const n=e.target,r=parseFloat(n.value);a.audio.volume=r,h("volume",r),n.blur()}),s(e=>{var n=d("player_loop"),r=!!a.loop;return n!==e.e&&v(l,"aria-label",e.e=n),r!==e.t&&l.classList.toggle("on",e.t=r),e},{e:void 0,t:void 0}),s(()=>o.value=a.playbackRate.toFixed(2)),s(()=>i.value=a.volume.toFixed(2)),t})()]}C(["click"]);export{N as default};
