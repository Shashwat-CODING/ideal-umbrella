import{f as y,J as H,h as re,t as B,i as n,c as t,S as s,a3 as d,a5 as S,a1 as p,w as v,s as _,B as le,d as ie}from"./index-BIf49YX_.js";import{g as c,a as M,b as ae,c as w}from"./hub-Co9BINa5.js";import{L as x}from"./ListItem-CEFBtWP_.js";import{S as h}from"./StreamItem-BlEJqt2S.js";var j=B("<i class=ri-loader-3-line>"),ne=B('<div class=hub><article class=gallery-article><p>Gallery</p><i aria-label=Refresh class=ri-refresh-line></i><i aria-label=Clear class=ri-delete-bin-2-line></i><div class=userArtists></div><div class=relatedArtists></div><div class=relatedPlaylists></div></article><article class=subfeed><p>Sub Feed</p><i aria-label=Refresh class=ri-refresh-line></i><i aria-label="Show All"class=ri-arrow-right-s-line></i><div></div></article><article><p>Frequently Played</p><i aria-label="Show All"class=ri-arrow-right-s-line></i><div></div></article><article><p>Recently Listened To</p><i aria-label="Show All"class=ri-arrow-right-s-line></i><div></div></article><article><p>Discovery</p><i aria-label="Show All"class=ri-arrow-right-s-line></i><div>');function oe(){const[l,g]=y(c()),Y=H(),k=re("history").slice(0,5).map(a=>Y[a]).filter(Boolean),[E,I]=y(!1),[J,A]=y(!1),b=a=>Object.values(H()).filter(i=>i.plays&&i.plays>1).sort((i,o)=>o.plays-i.plays).slice(0,a||100),N=()=>{I(!0),M("?preview=1").then(()=>{g(c()),I(!1)})},O=()=>{A(!0),ae().then(()=>{g(c()),A(!1)})},U=()=>{w("relatedArtists",[]),w("relatedPlaylists",[]),w("userArtists",[]),g(c())},f=a=>{if(!a)return[];const r=[...a];for(let u=r.length-1;u>0;u--){const i=Math.floor(Math.random()*(u+1));[r[u],r[i]]=[r[i],r[u]]}return r};return(()=>{var a=ne(),r=a.firstChild,u=r.firstChild,i=u.nextSibling,o=i.nextSibling,$=o.nextSibling,m=$.nextSibling,z=m.nextSibling,C=r.nextSibling,K=C.firstChild,L=K.nextSibling,P=L.nextSibling,F=P.nextSibling,T=C.nextSibling,Q=T.firstChild,D=Q.nextSibling,V=D.nextSibling,G=T.nextSibling,W=G.firstChild,R=W.nextSibling,X=R.nextSibling,Z=G.nextSibling,ee=Z.firstChild,q=ee.nextSibling,te=q.nextSibling;return i.$$click=O,o.$$click=U,n(r,t(s,{get when(){return J()},get children(){return j()}}),$),n($,t(s,{get when(){return l().userArtists?.length>0},fallback:"Listen to at least 2 different music artists to generate a gallery.",get children(){return t(d,{get each(){return f(l().userArtists.filter(e=>e.id&&e.name&&e.thumbnail))},children:e=>t(x,{stats:"",get title(){return e.name},get url(){return`/artist/${e.id}`},get thumbnail(){return S(p(e.thumbnail),"")},uploaderData:""})})}})),n(m,t(s,{get when(){return l().relatedArtists?.length>0},get children(){return t(d,{get each(){return f(l().relatedArtists)},children:e=>t(x,{stats:"",get title(){return e.name},get url(){return`/artist/${e.id}`},get thumbnail(){return S(p(e.thumbnail),"")},uploaderData:""})})}})),n(z,t(s,{get when(){return l().relatedPlaylists?.length>0},get children(){return t(d,{get each(){return f(l().relatedPlaylists)},children:e=>t(x,{stats:"",get title(){return e.name},get url(){return`/playlist/${e.id}`},get thumbnail(){return S(p(e.thumbnail),"")},uploaderData:""})})}})),L.$$click=N,P.$$click=()=>{M();const e=c().subfeed||[];v({name:"Sub Feed",list:e}),_("list","state",!0)},n(F,t(s,{get when(){return E()},get children(){return j()}}),null),n(F,t(s,{get when(){return l().subfeed?.length>0},fallback:"Subscribe to YouTube Channels, to get recently released videos here.",get children(){return t(d,{get each(){return l().subfeed.slice(0,5)},children:e=>t(h,{get id(){return e.id},get title(){return e.title},get author(){return e.author},get duration(){return e.duration},get authorId(){return e.authorId},context:{id:"Sub Feed",src:"hub"}})})}}),null),D.$$click=()=>{const e=b();v({name:"Frequently Played",list:e}),_("list","state",!0)},n(V,t(s,{get when(){return b(5).length>0},fallback:"Tracks you play often will show up here.",get children(){return t(d,{get each(){return b(5)},children:e=>t(h,{get id(){return e.id},get title(){return e.title},get author(){return e.author},get duration(){return e.duration},get authorId(){return e.authorId},context:{id:"Frequently Played",src:"hub"}})})}})),R.$$click=()=>{le("history")},n(X,t(s,{get when(){return k.length>0},fallback:"You have no listening History.",get children(){return t(d,{get each(){return k.slice(0,5)},children:e=>t(h,{get id(){return e.id},get title(){return e.title},get author(){return e.author},get duration(){return e.duration},get authorId(){return e.authorId},context:{id:"Recently Played",src:"hub"}})})}})),q.$$click=()=>{const e=c().discovery||[];v({name:"Discovery",list:e}),_("list","state",!0)},n(te,t(s,{get when(){return!!l().discovery?.length},fallback:"Discoveries related to what you listen to will show up here.",get children(){return t(d,{get each(){return l().discovery?.slice(0,5)},children:e=>t(h,{get id(){return e.id},get title(){return e.title},get author(){return e.author},get duration(){return e.duration},get authorId(){return e.authorId},context:{id:"Discover",src:"hub"}})})}})),a})()}ie(["click"]);export{oe as default};
