const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-5Vr2Geza.js","assets/index-BIf49YX_.js","assets/index-DlqJfLT7.css","assets/importPipedPlaylists-Cj5mREGT.js","assets/importSongshiftStreams-DCzRGyoR.js","assets/About-DaeoQOr1.js","assets/About-BsB3kz1t.css","assets/Hub-C9GoVYq1.js","assets/hub-Co9BINa5.js","assets/ListItem-CEFBtWP_.js","assets/ListItem-soBNhHLN.css","assets/StreamItem-BlEJqt2S.js","assets/StreamItem-B2jRbmN2.css","assets/index-WzVCtCCo.js","assets/index-V_63qd-G.css","assets/Library-Cqmu51yl.js","assets/cloudSync-CXuBuSNF.js"])))=>i.map(i=>d[i]);
import{t as c,i as o,c as n,S as p,m as d,_ as f,C as E,x as I,a as w,e as a,s as O,M as V,u as S,J as P,l as h,d as x,o as R,z as L,b as A,N as k,O as D,P as T,Q as B}from"./index-BIf49YX_.js";var N=c("<li><label><i class=ri-import-line></i>&nbsp;</label><input type=file id=upload_ytify>"),M=c("<li id=exportBtn><i class=ri-export-line></i>&nbsp;"),J=c("<li id=cleanLibraryBtn><i class=ri-delete-bin-2-line></i>&nbsp;"),F=c("<li id=importPipedBtn><i class=ri-download-cloud-line></i>&nbsp;"),j=c("<li><label><i class=ri-refresh-line></i>&nbsp;Import Playlists from SongShift</label><input type=file id=upload_songshift>"),H=c("<li><i class=ri-cloud-fill></i>&nbsp;Logout"),z=c("<li><i class=ri-delete-bin-2-line></i>&nbsp;"),W=c("<li><i class=ri-settings-line></i>&nbsp;"),q=c('<details><summary><i aria-label="More Options"class=ri-more-2-fill></i></summary><ul><li id=fullScreenBtn><i class=ri-fullscreen-line></i>&nbsp;</li><li><i class=ri-information-line></i>&nbsp;About ytify'),Q=c("<li><i class=ri-cloud-fill></i>&nbsp;Cloud Sync");const U=h(()=>f(()=>import("./Login-5Vr2Geza.js"),__vite__mapDeps([0,1,2])));function G(){async function $(s){const u=s.target,t=JSON.parse(await u.files[0].text());if(t.meta){for(const i in t)t.hasOwnProperty(i)&&localStorage.setItem("library_"+i,JSON.stringify(t[i]));S("snackbar",d("library_imported")),location.reload()}else localStorage.setItem("library",JSON.stringify(t)),S("snackbar","Migrating Library v1 to v2..."),location.reload()}function y(){const s=document.createElement("a");s.download="ytify_library.json";const u={};for(let t=0;t<localStorage.length;t++){const i=localStorage.key(t);i&&i.startsWith("library_")&&(u[i.slice(8)]=JSON.parse(localStorage.getItem(i)))}s.href=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(u,void 0,2))}`,s.click()}function m(){let s=0;const u=P();if(s=Object.keys(u).length,confirm(d("library_clean_prompt",s.toString()))){const t=[];for(let i=0;i<localStorage.length;i++){const l=localStorage.key(i);l&&l.startsWith("library")&&t.push(l)}for(const i of t)localStorage.removeItem(i);location.reload()}}function b(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}return(()=>{var s=q(),u=s.firstChild,t=u.nextSibling,i=t.firstChild,l=i.firstChild;l.nextSibling;var v=i.nextSibling;return o(t,n(p,{get when(){return a.homeView==="Library"},get children(){return[(()=>{var e=N(),r=e.firstChild,_=r.firstChild;_.nextSibling;var g=r.nextSibling;return e.$$click=()=>document.getElementById("upload_ytify")?.click(),o(r,()=>d("library_import"),null),g.addEventListener("change",$),e})(),(()=>{var e=M(),r=e.firstChild;return r.nextSibling,e.$$click=y,o(e,()=>d("library_export"),null),e})(),(()=>{var e=J(),r=e.firstChild;return r.nextSibling,e.$$click=m,o(e,()=>d("library_clean"),null),e})(),(()=>{var e=F(),r=e.firstChild;return r.nextSibling,e.$$click=async()=>{(await f(async()=>{const{default:_}=await import("./importPipedPlaylists-Cj5mREGT.js");return{default:_}},__vite__mapDeps([3,1,2]))).default()},o(e,()=>d("settings_import_from_piped"),null),e})(),(()=>{var e=j(),r=e.firstChild,_=r.nextSibling;return e.$$click=()=>document.getElementById("upload_songshift")?.click(),_.addEventListener("change",async g=>(await f(async()=>{const{default:C}=await import("./importSongshiftStreams-DCzRGyoR.js");return{default:C}},__vite__mapDeps([4,1,2]))).default(g.target.files[0])),e})(),n(p,{get when(){return w.dbsync},get fallback(){return(()=>{var e=Q();return e.$$click=()=>{I(()=>n(U,{}),document.body)},e})()},get children(){var e=H();return e.$$click=()=>{E("dbsync",""),location.reload()},e}})]}}),i),o(t,n(p,{get when(){return a.homeView==="Hub"},get children(){var e=z(),r=e.firstChild;return r.nextSibling,e.$$click=()=>{confirm(d("clear_hub_prompt"))&&(localStorage.removeItem("hub"),location.reload())},o(e,()=>d("clear_hub"),null),e}}),i),o(t,n(p,{get when(){return!V.settings.state},get children(){var e=W(),r=e.firstChild;return r.nextSibling,e.$$click=()=>O("settings","state",!0),o(e,()=>d("nav_settings"),null),e}}),i),i.$$click=b,o(i,()=>d("settings_fullscreen"),null),v.$$click=()=>{S("homeView",""),E("home","")},s})()}x(["click"]);var K=c("<i id=syncNow>"),X=c("<section class=home><header><p>");const Y=h(()=>f(()=>import("./About-DaeoQOr1.js"),__vite__mapDeps([5,1,2,6]))),Z=h(()=>f(()=>import("./Hub-C9GoVYq1.js"),__vite__mapDeps([7,1,2,8,9,10,11,12]))),ee=h(()=>f(()=>import("./index-WzVCtCCo.js"),__vite__mapDeps([13,1,2,9,10,11,12,14]))),te=h(()=>f(()=>import("./Library-Cqmu51yl.js"),__vite__mapDeps([15,1,2,11,12,9,10])));function le(){let $,y;return R(()=>{B("home",y)}),(()=>{var m=X(),b=m.firstChild,s=b.firstChild,u=y;return typeof u=="function"?L(u,m):y=m,o(s,()=>a.homeView||"ytify"),o(b,n(p,{get when(){return w.dbsync},get children(){var t=K();t.$$click=()=>{f(async()=>{const{runSync:l}=await import("./cloudSync-CXuBuSNF.js");return{runSync:l}},__vite__mapDeps([16,1,2])).then(({runSync:l})=>{l(w.dbsync)})};var i=$;return typeof i=="function"?L(i,t):$=t,A(l=>{var v=a.syncState==="synced",e=a.syncState==="syncing",r=a.syncState==="dirty"||a.syncState==="error",_=a.syncState==="error",g=a.syncState==="dirty"||a.syncState==="error"?"Save to Cloud":a.syncState==="synced"?"Import from Cloud":"Syncing";return v!==l.e&&t.classList.toggle("ri-cloud-fill",l.e=v),e!==l.t&&t.classList.toggle("ri-loader-3-line",l.t=e),r!==l.a&&t.classList.toggle("ri-cloud-off-fill",l.a=r),_!==l.o&&t.classList.toggle("error",l.o=_),g!==l.i&&T(t,"aria-label",l.i=g),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t}}),null),o(b,n(G,{}),null),o(m,n(D,{get fallback(){return n(Y,{})},get children(){return[n(k,{get when(){return a.homeView==="Hub"},get children(){return n(Z,{})}}),n(k,{get when(){return a.homeView==="Library"},get children(){return n(te,{})}}),n(k,{get when(){return a.homeView==="Search"},get children(){return n(ee,{})}})]}}),null),m})()}x(["click"]);export{le as default};
