const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/libraryMigrator-BM4gwtHJ.js","assets/index-BIf49YX_.js","assets/index-DlqJfLT7.css","assets/hub-Co9BINa5.js"])))=>i.map(i=>d[i]);
import{f as v,ap as T,_ as C,I as $,c as a,t as h,S as g,a3 as _,B as k,P as x,i as m,X as w,b as S,y as I,J as E,z as A,d as M,m as L,a0 as P,a5 as R,a1 as D}from"./index-BIf49YX_.js";import{S as F}from"./StreamItem-BlEJqt2S.js";import{L as N}from"./ListItem-CEFBtWP_.js";const B=50,O=(t,r)=>{const i=t.toLowerCase(),c=[];let u=!1;if(!i)return{results:c,isTruncated:u};const p=Object.values(r);for(const n of p){if(c.length>=B){u=!0;break}if(!("title"in n&&typeof n.title=="string"))continue;const s=n.title.toLowerCase().includes(i);if(!("author"in n&&typeof n.author=="string"))continue;const l=n.author.toLowerCase().includes(i);(s||l)&&c.push(n)}return{results:c,isTruncated:u}};var U=h('<input type=text placeholder="Search Local Library">'),W=h("<div class=truncated-message>Too many results. Please refine your search."),j=h("<div class=empty-library-message>Your library is empty"),z=h("<a class=clxn_item>"),H=h("<i>"),J=h("<i class=ri-play-list-2-fill>");function K(){let t;const[r,i]=v(""),[c,u]=v(""),[p,n]=v(!1),s=T(()=>E());let l;const b=()=>{clearTimeout(l),l=setTimeout(()=>{u(t.value)},300),i(t.value)};if(localStorage.getItem("library"))return C(()=>import("./libraryMigrator-BM4gwtHJ.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.default()),"Library Migration In Place...";const f={history:["ri-memories-line","library_history"],favorites:["ri-heart-fill","library_favorites"],listenLater:["ri-calendar-schedule-fill","library_listen_later"],liked:["ri-thumb-up-fill","library_liked"]};if($().length===0)for(const e in f)localStorage.setItem("library_"+e,"[]");const d=T(()=>{const{results:e,isTruncated:o}=O(c(),s());return n(o),e});return[(()=>{var e=U();e.$$input=b;var o=t;return typeof o=="function"?A(o,e):t=e,e})(),a(g,{get when(){return r()},get children(){return[a(_,{get each(){return d()},children:e=>a(F,{get id(){return e.id},get title(){return e.title},get author(){return e.author},get duration(){return e.duration},get authorId(){return e.authorId},get context(){return{src:"search",id:r()}}})}),a(g,{get when(){return p()},get children(){return W()}})]}}),a(g,{get when(){return!r()},get children(){return a(g,{get when(){return $().length},get fallback(){return j()},get children(){return a(_,{get each(){return $()},children:e=>(()=>{var o=z();return o.$$click=y=>{y.preventDefault(),k(e)},x(o,"href","?collection="+e),m(o,()=>a(g,{get when(){return e in f},get fallback(){return[J(),e]},get children(){return[(()=>{var y=H();return S(()=>I(y,f[e][0])),y})(),w(()=>L(f[e][1]))]}})),o})()})}})}})]}M(["input","click"]);var V=h("<article><p><i></i>&nbsp;</p><div>");function X(t){let r=t.flag,i=0;t.flag==="albums"&&(r="playlists",i=8);const c=r==="playlists"?"Album":"Artist",u=[],p=P(r);for(const s of p){const l=s.name;if(t.flag!==r){if(!l.startsWith(c))continue}else if(l.startsWith(c))continue;u.push({type:r.slice(0,-1),name:l.slice(i),uploaderName:s.uploader,url:`/${r==="channels"?"channel":"playlist"}/`+s.id,thumbnail:s.thumbnail})}const n={albums:"ri-album-fill",channels:"ri-tv-fill",artists:"ri-user-heart-fill",playlists:"ri-youtube-fill"};return a(g,{get when(){return u.length>0},get children(){var s=V(),l=s.firstChild,b=l.firstChild;b.nextSibling;var f=l.nextSibling;return m(l,()=>L("library_"+t.flag),null),m(f,a(_,{each:u,children:d=>a(N,{stats:"",get title(){return d.name},get url(){return d.url},get thumbnail(){return R(D(d.thumbnail),"")},get uploaderData(){return d.uploaderName}})})),S(()=>I(b,n[t.flag])),s}})}var Y=h("<div class=library><br><br>");function Z(){return(()=>{var t=Y(),r=t.firstChild;return r.nextSibling,m(t,a(K,{}),r),m(t,a(_,{each:["albums","playlists","channels"],children:i=>a(X,{flag:i})}),null),t})()}export{Z as default};
