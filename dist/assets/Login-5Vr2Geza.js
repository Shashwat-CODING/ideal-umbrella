const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cloudSync-CXuBuSNF.js","assets/index-BIf49YX_.js","assets/index-DlqJfLT7.css"])))=>i.map(i=>d[i]);
import{f as m,o as y,t as f,i as b,c as v,C as w,u as o,_ as S,X as E,S as k,b as x,z as C,d as P}from"./index-BIf49YX_.js";var M=f("<button>Get Access"),O=f('<dialog class=displayer><h4>Sync your library to the cloud</h4><input type=email placeholder="Enter Email"required autofocus><input type=password placeholder="Enter Password"required><span><button class=ri-close-large-line>');function q(){const[s,_]=m(""),[l,$]=m("");let t;return y(()=>{t.showModal()}),(()=>{var r=O(),g=r.firstChild,c=g.nextSibling,i=c.nextSibling,u=i.nextSibling,d=u.firstChild,p=t;return typeof p=="function"?C(p,r):t=r,c.$$input=a=>_(a.target.value),i.$$input=a=>$(a.target.value),b(u,v(k,{get when(){return E(()=>!!s())()&&l()},get children(){var a=M();return a.$$click=()=>{fetch("/cs/hash",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s(),password:l()})}).then(async e=>{if(!e.ok){const n=await e.text();throw new Error(n)}return e.text()}).then(e=>{w("dbsync",e),o("snackbar","Syncing..."),S(async()=>{const{runSync:n}=await import("./cloudSync-CXuBuSNF.js");return{runSync:n}},__vite__mapDeps([0,1,2])).then(({runSync:n})=>{n(e).then(h=>{o("snackbar",h.message),h.success&&(t.close(),t.remove())})})}).catch(e=>{o("snackbar","Email validation failed: "+e)})},a}}),d),d.$$click=()=>{t.close(),t.remove()},x(()=>i.disabled=!s()),r})()}P(["input","click"]);export{q as default};
